OASISFormat: 0.4
Name:        opium
Version:     0.11.0
Synopsis:    Sinatra like web toolkit for OCaml
Authors:     Rudi Grinberg
Homepage:    https://github.com/rgrinberg/opium
License:     MIT
BuildTools:  ocamlbuild
Plugins:     META (0.4)

Flag pcre
  Description: enable pcre routing lib
  Default:     false

Flag examples
  Description: enable compiling the examples
  Default:     false

Library opium_rock
  Path:         rock
  Findlibname:  opium_rock
  Modules:      Opium_rock, Opium_misc
  BuildDepends: threads,
                core,
                lwt,
                lwt.unix,
                cohttp.lwt,
                fieldslib,
                fieldslib.syntax,
                sexplib,
                sexplib.syntax

Library opium
  Path:            opium
  Pack:            true
  Findlibname:     opium
  Modules:         Std,
                   Cookie,
                   Middleware_pack,
                   Simple_route,
                   Router,
                   Static_serve,
                   Debug,
                   App,
                   App_intf
  BuildDepends: threads,
                opium_rock,
                humane_re,
                cow,
                cow.syntax

Library opium_pcre_route
  Build$:        flag(pcre)
  Install$:      flag(pcre)
  Path:          opium
  FindlibParent: opium
  Findlibname:   pcre_route
  Modules:       Pcre_route
  BuildDepends:  core, pcre

Executable test_routes
  Path:           lib_test
  MainIs:         routes.ml
  Build$:         flag(tests)
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium,oUnit

Test test_routes
  Run$:             flag(tests)
  Command:          $test_routes
  WorkingDirectory: lib_test

Executable ex1
  Build$:         flag(examples)
  Path:           examples
  MainIs:         sample.ml
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium

Executable ex_hello_world
  Build$:         flag(examples)
  Path:           examples
  MainIs:         hello_world.ml
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium

Executable middleware_ua
  Build$:         flag(examples)
  Path:           examples
  MainIs:         middleware_ua.ml
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium

Executable uppercase_middleware
  Build$:         flag(examples)
  Path:           examples
  MainIs:         uppercase_middleware.ml
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium

Executable read_json_body
  Build$:         flag(examples)
  Path:           examples
  MainIs:         read_json_body.ml
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium

Executable hello_world_basic
  Build$:         flag(examples)
  Path:           examples
  MainIs:         hello_world_basic.ml
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium

Executable hello_world_html
  Build$:         flag(examples)
  Path:           examples
  MainIs:         hello_world_html.ml
  Custom:         true
  CompiledObject: best
  Install:        false
  BuildDepends:   opium, cow, cow.syntax, sexplib, sexplib.syntax

Document opium_rock
  Title:                Opium rock docs
  Type:                 ocamlbuild (0.4)
  BuildTools+:          ocamldoc
  Install:              true
  XOCamlbuildPath:      rock
  XOCamlbuildLibraries: opium_rock


Document opium
  Title:                Opium docs
  Type:                 ocamlbuild (0.4)
  BuildTools+:          ocamldoc
  Install:              true
  XOCamlbuildPath:      opium
  XOCamlbuildLibraries: opium

